package me.fluffycq.icehack.module.modules.exploit;

import java.util.function.Predicate;
import me.fluffycq.icehack.events.PacketEvent;
import me.fluffycq.icehack.module.Category;
import me.fluffycq.icehack.module.Module;
import me.zero.alpine.listener.EventHandler;
import me.zero.alpine.listener.EventHook;
import me.zero.alpine.listener.Listener;
import net.minecraft.entity.passive.AbstractChestHorse;
import net.minecraft.network.play.client.CPacketUseEntity;
import net.minecraft.network.play.client.CPacketUseEntity.Action;

public class MountBypass extends Module {

    @EventHandler
    private Listener packetEvent = new Listener((event) -> {
        if (event.getPacket() instanceof CPacketUseEntity && ((CPacketUseEntity) event.getPacket()).getEntityFromWorld(MountBypass.mc.world) instanceof AbstractChestHorse && ((CPacketUseEntity) event.getPacket()).getAction() == Action.INTERACT_AT) {
            event.cancel();
        }

    }, new Predicate[0]);

    public MountBypass() {
        super("MountBypass", 0, Category.EXPLOITS);
    }
}
